{"ast":null,"code":"import { fieldList } from './fieldList';\nvar setterCache = {};\n\nsetterCache.undefined = function (obj) {\n  return obj;\n};\n\nvar defaultValue = function (nextField, options) {\n  return options && options.arrays && !isNaN(Number(nextField)) ? [] : {};\n};\n/**\r\n * Can be used for setting value to object using field path. For example `users[index].name`.\r\n * @example\r\n * ```jsx-no-run\r\n * const values = {users:[{lastName: 'Doe'}]};\r\n * const firstUserFirstName = setter('user[0].firstName');\r\n *\r\n * firstUserFirstName(values, 'John');\r\n *\r\n * console.log(values)\r\n *\r\n * // result: {users:[{firstName: 'John', lastName: 'Doe'}]}\r\n * ```\r\n */\n\n\nexport function setter(field) {\n  if (setterCache[field]) {\n    return setterCache[field];\n  }\n\n  var fields = fieldList(field);\n\n  setterCache[field] = function (obj, value, options) {\n    var root = obj;\n    var depth = fields.length - 1;\n\n    for (var idx = 0; idx < depth && root; idx++) {\n      root = root[fields[idx]] = root[fields[idx]] || defaultValue(fields[idx + 1], options);\n    }\n\n    root[fields[depth]] = value;\n  };\n\n  return setterCache[field];\n}","map":{"version":3,"sources":["../../src/setter.ts"],"names":[],"mappings":"AAAA,SAAS,SAAT,QAA0B,aAA1B;AAEA,IAAM,WAAW,GAAG,EAApB;;AAEC,WAAmB,CAAC,SAApB,GAAgC,UAAA,GAAA,EAAG;AAAI,SAAA,GAAA;AAAG,CAA1C;;AAED,IAAM,YAAY,GAAG,UAAC,SAAD,EAAoB,OAApB,EAAgC;AACjD,SAAA,OAAO,IAAI,OAAO,CAAC,MAAnB,IAA6B,CAAC,KAAK,CAAC,MAAM,CAAC,SAAD,CAAP,CAAnC,GAAyD,EAAzD,GAA8D,EAA9D;AAAgE,CADpE;AAGA;;;;;;;;;;;;;;;;AAcA,OAAM,SAAU,MAAV,CAAiB,KAAjB,EAA8B;AAChC,MAAI,WAAW,CAAC,KAAD,CAAf,EAAwB;AACpB,WAAO,WAAW,CAAC,KAAD,CAAlB;AACH;;AAED,MAAM,MAAM,GAAG,SAAS,CAAC,KAAD,CAAxB;;AAEA,EAAA,WAAW,CAAC,KAAD,CAAX,GAAqB,UAAC,GAAD,EAAW,KAAX,EAAuB,OAAvB,EAAoC;AACrD,QAAI,IAAI,GAAG,GAAX;AACA,QAAM,KAAK,GAAG,MAAM,CAAC,MAAP,GAAgB,CAA9B;;AACA,SAAK,IAAI,GAAG,GAAG,CAAf,EAAkB,GAAG,GAAG,KAAN,IAAe,IAAjC,EAAuC,GAAG,EAA1C,EAA8C;AAC1C,MAAA,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAD,CAAP,CAAJ,GAAoB,IAAI,CAAC,MAAM,CAAC,GAAD,CAAP,CAAJ,IAAqB,YAAY,CAAC,MAAM,CAAC,GAAG,GAAG,CAAP,CAAP,EAAkB,OAAlB,CAA5D;AACH;;AACD,IAAA,IAAI,CAAC,MAAM,CAAC,KAAD,CAAP,CAAJ,GAAsB,KAAtB;AACH,GAPD;;AASA,SAAO,WAAW,CAAC,KAAD,CAAlB;AACH","sourceRoot":"","sourcesContent":["import { fieldList } from './fieldList';\r\nvar setterCache = {};\r\nsetterCache.undefined = function (obj) { return obj; };\r\nvar defaultValue = function (nextField, options) {\r\n    return options && options.arrays && !isNaN(Number(nextField)) ? [] : {};\r\n};\r\n/**\r\n * Can be used for setting value to object using field path. For example `users[index].name`.\r\n * @example\r\n * ```jsx-no-run\r\n * const values = {users:[{lastName: 'Doe'}]};\r\n * const firstUserFirstName = setter('user[0].firstName');\r\n *\r\n * firstUserFirstName(values, 'John');\r\n *\r\n * console.log(values)\r\n *\r\n * // result: {users:[{firstName: 'John', lastName: 'Doe'}]}\r\n * ```\r\n */\r\nexport function setter(field) {\r\n    if (setterCache[field]) {\r\n        return setterCache[field];\r\n    }\r\n    var fields = fieldList(field);\r\n    setterCache[field] = function (obj, value, options) {\r\n        var root = obj;\r\n        var depth = fields.length - 1;\r\n        for (var idx = 0; idx < depth && root; idx++) {\r\n            root = root[fields[idx]] = root[fields[idx]] || defaultValue(fields[idx + 1], options);\r\n        }\r\n        root[fields[depth]] = value;\r\n    };\r\n    return setterCache[field];\r\n}\r\n//# sourceMappingURL=setter.js.map"]},"metadata":{},"sourceType":"module"}